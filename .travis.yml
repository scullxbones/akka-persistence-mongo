sudo: required
services:
   - docker
language: scala
scala:
   - 2.11.7
env:
  matrix:
    - MONGODB_VERSION=2.6
    - MONGODB_VERSION=3.0
    - MONGODB_VERSION=3.2
  global:
    - JAVA_OPTIONS="-Xmx2G -Dakka.test.timefactor=5"
    - MONGODB_AUTH_PORT=28117
    - MONGODB_NOAUTH_PORT=27117
jdk:
  - oraclejdk8
before_install:
  - docker pull scullxbones/mongodb:$MONGODB_VERSION
  - docker run -d -p $MONGODB_NOAUTH_PORT:27017 scullxbones/mongodb:$MONGODB_VERSION --noauth
  - docker run -d -p $MONGODB_AUTH_PORT:27017 scullxbones/mongodb:$MONGODB_VERSION --auth
  - docker ps -a
script:
  - sbt ++$TRAVIS_SCALA_VERSION test
